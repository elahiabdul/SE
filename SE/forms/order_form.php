<fieldset>



<div class="row">
<div class="col-sm-9">
 <div class="form-group">

 <div class="container">
      

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table_trans" style="border:none;" >
         
              <tr>
                <td width="15%"> Transformer </td>
               
                <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="transfarmer_fr" style="border:none;"></table> </td>
                 <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addtransfer"><span class="glyphicon glyphicon-plus"></span></button></th>
             
              </tr>
            
            
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
         
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table" border="0">
            
              <tr>
              <td width="15%" class="form-group required"> <label class="control-label"> MCCB Q1 & 2</label> </td>
              <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="mccb_fr" style="border:none;"></table> </td>  
              <td  width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addmccb"><span class="glyphicon glyphicon-plus"></span></button></th>
              </tr>
            
          </table>
         
        </div>
     
    </div>


    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table" border="0">
           
              <tr>
                <td  width="15%" class="form-group required"> <label class="control-label">  MFM </label></td>
                <td  width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="mfm_fr" style="border:none;"></table></td>
                <td  width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addmfm"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%" class="form-group required"> <label class="control-label"> CT </label></th>

                <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="ct_fr" style="border:none;"></table></td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addct"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
              
          </table>
         
        </div>
     
    </div>


    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table" border="0">
           
              <tr>
                <td width="15%" class="form-group required"> <label class="control-label"> Lamps</td>

                <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="lamp_fr" style="border:none;"></table></td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addlamp"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
           
              
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table cellspacing="0" cellpadding="0" class="table table-borderless" id="item_table" border="0">
           
              <tr>
                <td width="15%" class="form-group required"> <label class="control-label">  MCB [Control]</td>

                <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="mcb_fr" style="border:none;"></table></td>
                <td width="10%" ><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addmcb"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
            
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%">SPD [Surge Protection]</th>

                <td width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="spd_fr" style="border:none;"></table></th>
                <td width="10%"> <button aligh="right" type="button" name="add" class="btn btn-success btn-xs addspd"><span class="glyphicon glyphicon-plus"></span></button></th>
              </tr>
           
          
          </table>
         
        </div>
     
    </div>


    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%">MCB [Outgoings]</th>

                <td width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="mcbog_fr" style="border:none;"></table></th>
                <td width="10%"> <button aligh="right" type="button" name="add" class="btn btn-success btn-xs addmcbotg"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
           
          </table>
         
        </div>
     
    </div>


    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%">HMI </td>

                <td width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="hmi_fr" style="border:none;"></table></td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addhmi"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
            
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%">BCPM </td>

                <td width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="bcpm_fr" style="border:none;"></table></td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addbcpm"><span class="glyphicon glyphicon-plus"></span></button></th>
              </tr>
            
           
          </table>
         
        </div>
     
    </div>


    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%">Cooling Fan </td>

                <td width="75%"> <table class="table table-borderless" cellspacing="0" cellpadding="0" id="cf_fr" style="border:none;"></table></td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addcf"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
           
          </table>
         
        </div>
     
    </div>

    <div class="row">
        <div class="col-sm-10">
          <span id="error"></span>
          <table class="table table-borderless" id="item_table" border="0">
            
              <tr>
                <td width="15%" class="form-group required"> <label class="control-label"> Frame </td>

                <td width="75%"><table class="table table-borderless" cellspacing="0" cellpadding="0" id="frame_fr" style="border:none;"></table> </td>
                <td width="10%"><button aligh="right" type="button" name="add" class="btn btn-success btn-xs addframe"><span class="glyphicon glyphicon-plus"></span></button></td>
              </tr>
            
          </table>
         
        </div>
     
    </div>

  
    <div class="row">
        <div class="col-sm-10">

       <div class="form-group text-center">
        <label></label>
        <input type="hidden" name="hid" id="hid" value="0" />
        <button type="button" onclick="dosubmit()"  name="save" value="save" class="btn btn-warning" >Save <span class="glyphicon glyphicon-send"></span></button>

    </div>
</div>

</form>


</div>
</div>

  
</fieldset>
  
  
<script>
    $(document).ready(function(){
      
      var count = 0;
      

      $(document).on('click', '.addtransfer', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="transfarmer[]" class="form-control item_category" onchange="loader_price();" data-sub_category_id="tf_'+count+'"><?php echo $tf_option; ?></select></td>';
        html += '<td width="20%"><select name="transfarmer_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td> </tr>';
        $('#transfarmer_fr').append(html);
      });

      $(document).on('click', '.addmccb', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="mccb[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $mccb_option; ?>/select></td>';
        html += '<td width="20%"><select name="mccb_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#mccb_fr').append(html);
      });

      $(document).on('click', '.addmfm', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="mfm[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $mfm_option; ?>/select></td>';
        html += '<td width="20%"><select name="mfm_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#mfm_fr').append(html);
      });

      $(document).on('click', '.addct', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="ct[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $ct_option; ?>/select></td>';
        html += '<td width="20%"><select name="ct_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#ct_fr').append(html);
      });

      $(document).on('click', '.addlamp', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="lamp[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $lamp_option; ?>/select></td>';
        html += '<td width="20%"><select name="lamp_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td> </tr>';
        $('#lamp_fr').append(html);
      });
     
      $(document).on('click', '.addmcb', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="control_mcb[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $mcb_option; ?>/select></td>';
        html += '<td width="20%"><select name="control_mcb_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td> </tr>';
        $('#mcb_fr').append(html);
      });

      $(document).on('click', '.addspd', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="spd[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $spd_option; ?>/select></td>';
        html += '<td width="20%"><select name="spd_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#spd_fr').append(html);
      });

      $(document).on('click', '.addmcbotg', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="mcb_otg[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $outgoing_mcb_option; ?>/select></td>';
        html += '<td width="20%"><select name="mcb_otg_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#mcbog_fr').append(html);
      });


      $(document).on('click', '.addhmi', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="hmi[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $hmi_option; ?>/select></td>';
        html += '<td width="20%"><select name="hmi_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#hmi_fr').append(html);
      });


      $(document).on('click', '.addbcpm', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="bcpm[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $bcpma_option; ?>/select></td>';
        html += '<td width="20%"><select name="bcpm_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#bcpm_fr').append(html);
      });

      $(document).on('click', '.addcf', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="cf[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $cooling_option; ?>/select></td>';
        html += '<td width="20%"><select name="cf_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#cf_fr').append(html);
      });


      $(document).on('click', '.addframe', function(){
        //alert('hi');
        count++;
        var html = '';
        html += '<tr>';
        html += '<td width="70%"><select name="frame[]" class="form-control item_category" data-sub_category_id="'+count+'"><?php echo $frame_option; ?>/select></td>';
        html += '<td width="20%"><select name="frame_qty[]" class="form-control item_sub_category" id="item_sub_category'+count+'"><?php echo $qty_arr; ?></select></td>';
        html += '<td width="10%"><button type="button" name="remove" class="btn btn-danger btn-xs remove"><span class="glyphicon glyphicon-minus"></span></button></td></tr>';
        $('#frame_fr').append(html);
      });

      

      $(document).on('click', '.remove', function(){
        $(this).closest('tr').remove();
      });
     
      if(!getUrlParameter('filter')){ $("#modelview").trigger("click"); }
      if(!getUrlParameter('transchk')){ 
        $(".addtransfer").remove(); 
        $("#item_table_trans").remove(); 
        
      
      } else { $(".addtransfer").trigger("click");}
     
      $(".addmccb").trigger("click");
      $(".addframe").trigger("click");
     

      $(".addbcpm").trigger("click");
      $(".addhmi").trigger("click");
      $(".addmcbotg").trigger("click");

      $(".addspd").trigger("click");
      $(".addmcb").trigger("click");


      $(".addlamp").trigger("click");
      $(".addct").trigger("click");
      $(".addmfm").trigger("click");

      $(".addcf").trigger("click");
      
    

  });


  $('#customer_form').on('submit', function(event){
        //alert($(this).serialize());
      var  form_data = $(this).serialize();
       //alert(form_data);
       hid=$("#hid").val();
       if(hid!=1){
        event.preventDefault();
        $.ajax({
            url:"insert.php",
            method:"POST",
            data:form_data,
            success:function(data)
            {
              
                $('#loader_item').html(data);
            
            }
          });
        }
       
    });

    var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
    return false;
};

function loader_price(){
 

 $("#customer_form").submit();

}

function dosubmit(){
  
  $("#hid").val(1);
  $("#customer_form").submit();
}

function checked_trans()
{
  if($('#flexSwitchCheckChecked').is(":checked")){
    
    $("#tran_chk_label").css("display", "block");

   // $('#tran_chk_label')
  }
  else 
   {
    
     $("#tran_chk_label").css("display", "none");
   }

}
</script>
 
      




<!-- Button trigger modal -->
<button type="button" style="display:none;" id="modelview" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  
</button>

<!-- Modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<form method="get" action"add_order.php?&filter=1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><b>Filter</b></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

      
    

      <div class="form-check form-switch">
  <input class="form-check-input" type="checkbox" onclick="checked_trans()" id="flexSwitchCheckChecked" name="transchk" value="1" checked>
  <label class="form-check-label" for="flexSwitchCheckChecked">Transformer</label>
  </div>
 

  <div class="form-group" id="tran_chk_label">
    <label for="formGroupExampleInput"> Transformer</label>
    <input type="text"  name="trans" class="form-control" id="trans_chk" placeholder="Transformer">
  </div>
  <div class="form-group">
    <label for="formGroupExampleInput2">MFM</label>
    <input type="text" name="mfm_chk" class="form-control" id="mfm_chk" placeholder="MFM">
  </div>

  <div class="form-group">
    <label for="formGroupExampleInput2">CT</label>
    <input type="text" name="ct_chk"  class="form-control" id="ct_chk" placeholder="CT">
  </div>

  <div class="form-group">
    <label for="formGroupExampleInput2">MCB [Control]</label>
    <input type="text" name="mcbctl_chk"  class="form-control" id="mcbctl_chk" placeholder="MCB Controls">
  </div>


  <div class="form-group">
    <label for="formGroupExampleInput2">MCB [Outgoings]</label>
    <input type="text" name="mcbotg_chk"  class="form-control" id="mcbotg_chk" placeholder="MCB Outgoings">
  </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" name="filter" value="filter" class="btn btn-primary">Apply Filter </button>
      </div>
    </div>
  </div>
  </form>
</div>

<style>


 table {
 border:none;   
 border-top: 0px solid #fff !important;
 }   

 .borderless td, .borderless th {
    border: none !important;
    border-top: 0px solid #fff !important;
}
 </style>

<style>
* {
  box-sizing: border-box;
}

body {
  font: 16px Arial;  
}

/*the container must be positioned relative:*/
.autocomplete {
  position: relative;
  display: inline-block;
}

input {
  border: 1px solid transparent;
  background-color: #f1f1f1;
  padding: 10px;
  font-size: 16px;
}

input[type=text] {
  background-color: #f1f1f1;
  width: 100%;
}

input[type=submit] {
  background-color: DodgerBlue;
  color: #fff;
  cursor: pointer;
}

.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}

.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff; 
  border-bottom: 1px solid #d4d4d4; 
}

/*when hovering an item:*/
.autocomplete-items div:hover {
  background-color: #e9e9e9; 
}

/*when navigating through the items using the arrow keys:*/
.autocomplete-active {
  background-color: DodgerBlue !important; 
  color: #ffffff; 
}
</style>


